–û—Ç–ª–∏—á–Ω–æ üî• ‚Äî –≤–æ—Ç —Ç–≤–æ–π –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—ã–π README.md –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º GitHub-—Å—Ç–∏–ª–µ.
–û–Ω –æ—Ñ–æ—Ä–º–ª–µ–Ω –∞–∫–∫—É—Ä–∞—Ç–Ω–æ, —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏, —Ü–≤–µ—Ç–Ω—ã–º–∏ –±–ª–æ–∫–∞–º–∏ –∫–æ–¥–∞, –∑–Ω–∞—á–∫–∞–º–∏ –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ –≤—ã–≤–æ–¥–∞.
–°—Ä–∞–∑—É –≥–æ—Ç–æ–≤ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

‚∏ª

üß© University Data Processor

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –∏ –∫–æ–º–Ω–∞—Ç –æ–±—â–µ–∂–∏—Ç–∏—è


‚∏ª

üìò –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

University Data Processor ‚Äî —ç—Ç–æ Python-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ:
	‚Ä¢	–∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ —Å—Ç—É–¥–µ–Ω—Ç–∞—Ö –∏ –∫–æ–º–Ω–∞—Ç–∞—Ö –∏–∑ JSON;
	‚Ä¢	–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∏—Ö –≤ –±–∞–∑—É PostgreSQL;
	‚Ä¢	–≤—ã–ø–æ–ª–Ω—è–µ—Ç –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ SQL-–∑–∞–ø—Ä–æ—Å—ã;
	‚Ä¢	—ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç JSON –∏–ª–∏ XML.

–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º —á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (Ports & Adapters) –∏ —Å–ª–µ–¥—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º SOLID, PEP8 –∏ PEP257.

‚∏ª

‚öôÔ∏è –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç	–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è
–Ø–∑—ã–∫	Python 3.11+
–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö	PostgreSQL
–†–∞–±–æ—Ç–∞ —Å SQL	psycopg2 (–±–µ–∑ ORM)
–§–æ—Ä–º–∞—Ç—ã	JSON, XML
–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è	Docker + Docker Compose
–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ	logging (—Ñ–∞–π–ª /logs/app.log)
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ	unittest
–ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞	pylint, flake8


‚∏ª

üß± –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

app/
‚îú‚îÄ‚îÄ adapters/       # –ø–æ–¥–∫–ª—é—á–∞–µ–º—ã–µ –º–æ–¥—É–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ postgres_db.py     # —Ä–∞–±–æ—Ç–∞ —Å PostgreSQL
‚îÇ   ‚îú‚îÄ‚îÄ export_json.py     # —ç–∫—Å–ø–æ—Ä—Ç –≤ JSON
‚îÇ   ‚îî‚îÄ‚îÄ export_xml.py      # —ç–∫—Å–ø–æ—Ä—Ç –≤ XML
‚îÇ
‚îú‚îÄ‚îÄ cli/
‚îÇ   ‚îî‚îÄ‚îÄ main.py            # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ CLI
‚îÇ
‚îú‚îÄ‚îÄ domain/
‚îÇ   ‚îî‚îÄ‚îÄ entities.py        # –∫–ª–∞—Å—Å—ã Room –∏ Student + –≤–∞–ª–∏–¥–∞—Ü–∏—è JSON
‚îÇ
‚îú‚îÄ‚îÄ ports/
‚îÇ   ‚îú‚îÄ‚îÄ db.py              # –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å DB
‚îÇ   ‚îî‚îÄ‚îÄ exporter.py        # –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Exporter
‚îÇ
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ load_service.py    # –∑–∞–≥—Ä—É–∑–∫–∞ JSON ‚Üí –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ query_service.py   # –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ SQL-–∑–∞–ø—Ä–æ—Å—ã
‚îÇ   ‚îî‚îÄ‚îÄ schema_service.py  # –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ö–µ–º—ã –∏ –∏–Ω–¥–µ–∫—Å–æ–≤
‚∏ª

üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç

üîß 1. –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ

# 1. –°–æ–∑–¥–∞–π –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv venv
source venv/bin/activate

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# 3. –ó–∞–ø—É—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
python -m app.cli.main


‚∏ª

üê≥ 2. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker

üîπ –°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

docker compose up --build

üîπ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å

docker compose ps

üîπ –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

docker compose down


‚∏ª

üß© –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã

‚ñ∂Ô∏è –ö–æ–Ω—Å–æ–ª—å

–í–≤–µ–¥–∏—Ç–µ –ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ (JSON):
data/JSON/students.json
–í–≤–µ–¥–∏—Ç–µ –ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞ –∫–æ–º–Ω–∞—Ç (JSON):
data/JSON/rooms.json
–í–≤–µ–¥–∏—Ç–µ –≤—ã—Ö–æ–¥–Ω–æ–π —Ñ–æ—Ä–º–∞—Ç (xml –∏–ª–∏ json):
json
–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –¥–ª—è –≤—ã–≥—Ä—É–∑–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:
result

üßÆ SQL-–∑–∞–ø—Ä–æ—Å—ã, –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º

–ù–∞–∑–≤–∞–Ω–∏–µ	–û–ø–∏—Å–∞–Ω–∏–µ
SQL_ROOMS_COUNT	–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –ø–æ –∫–æ–º–Ω–∞—Ç–∞–º
SQL_TOP5_YOUNG_AVG	5 –∫–æ–º–Ω–∞—Ç —Å —Å–∞–º—ã–º –º–æ–ª–æ–¥—ã–º —Å—Ä–µ–¥–Ω–∏–º –≤–æ–∑—Ä–∞—Å—Ç–æ–º
SQL_TOP5_AGE_SPREAD	5 –∫–æ–º–Ω–∞—Ç —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ä–∞–∑–Ω–∏—Ü–µ–π –≤ –≤–æ–∑—Ä–∞—Å—Ç–µ
SQL_MIXED_GENDER	–ö–æ–º–Ω–∞—Ç—ã, –≥–¥–µ –∂–∏–≤—É—Ç —Å—Ç—É–¥–µ–Ω—Ç—ã —Ä–∞–∑–Ω—ã—Ö –ø–æ–ª–æ–≤


‚∏ª

üíæ –ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (result.json)

{
  "count_student_in_rooms": [
    {"id": 101, "name": "Room #101", "count": 3}
  ],
  "top5_young_avg": [
    {"id": 111, "name": "Room #111", "avg_age_years": 22.6}
  ],
  "top5_age_spread": [
    {"id": 105, "name": "Room #105", "diff_age_years": 30.1}
  ],
  "rooms_with_mixed_gender": [
    {"id": 120, "name": "Room #120"}
  ],
  "meta": {
    "inserted_rooms": 1000,
    "inserted_students": 9999
  }
}


‚∏ª

üß∞ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)

POSTGRES_USER=app
POSTGRES_PASSWORD=app
POSTGRES_DB=university
POSTGRES_PORT=5432
POSTGRES_HOST=db


‚∏ª

üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤

python tests/test.py

‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –≤ Docker

docker compose run --rm app python tests/test.py

üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

tests/
‚îú‚îÄ‚îÄ fake_db.py
‚îú‚îÄ‚îÄ test_entities.py
‚îú‚îÄ‚îÄ test_load_service.py
‚îú‚îÄ‚îÄ test_query_service.py
‚îú‚îÄ‚îÄ test_exporters.py
‚îú‚îÄ‚îÄ test_schema_service.py
‚îî‚îÄ‚îÄ test.py

–í—Å–µ —Ç–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É unittest, –æ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö, –∑–∞–≥—Ä—É–∑–∫—É, –∑–∞–ø—Ä–æ—Å—ã –∏ —ç–∫—Å–ø–æ—Ä—Ç.

‚∏ª

üßæ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
	‚Ä¢	–í—Å–µ —Å–æ–±—ã—Ç–∏—è –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ —Ñ–∞–π–ª logs/app.log
	‚Ä¢	–ü—Ä–∏–º–µ—Ä:

2025-10-19 21:08:43 [INFO] app.cli.main: –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–ø—É—â–µ–Ω–∞
2025-10-19 21:08:44 [WARNING] app.domain.entities: –ü—Ä–æ–ø—É—â–µ–Ω–∞ –∫–æ–º–Ω–∞—Ç–∞ ‚Äî –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª–µ 'id'
2025-10-19 21:08:45 [ERROR] app.services.query_service: –û—à–∏–±–∫–∞ SQL –ø—Ä–∏ rooms_counts



‚∏ª

üìÇ –ü—Ä–∏–º–µ—Ä SQL-—Ñ–∞–π–ª–æ–≤

sql/schema_pg.sql

CREATE TABLE IF NOT EXISTS rooms (
    id INT PRIMARY KEY,
    name TEXT NOT NULL
);

CREATE TABLE IF NOT EXISTS students (
    id INT PRIMARY KEY,
    name TEXT NOT NULL,
    sex CHAR(1) CHECK (sex IN ('M', 'F')),
    birthday DATE NOT NULL,
    room_id INT REFERENCES rooms(id)
);

sql/indexes_pg.sql

CREATE INDEX IF NOT EXISTS idx_students_room_id ON students(room_id);
CREATE INDEX IF NOT EXISTS idx_students_birthday ON students(birthday);


‚∏ª

üß† –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞

‚úÖ PEP8 –∏ PEP257 —Å–æ–≤–º–µ—Å—Ç–∏–º–æ
‚úÖ Pylint –±–µ–∑ –æ—à–∏–±–æ–∫ (10/10)
‚úÖ –ì–ª—É–±–∏–Ω–∞ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ ‚â§5
‚úÖ Docstring –≤ –∫–∞–∂–¥–æ–º –º–æ–¥—É–ª–µ

‚∏ª

üìä –¢–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ

–ú–æ–¥—É–ª—å	–û–ø–∏—Å–∞–Ω–∏–µ
entities.py	–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ JSON –≤ –æ–±—ä–µ–∫—Ç—ã
load_service.py	–¢–µ—Å—Ç—ã –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –±–∞—Ç—á–∏–Ω–≥–∞
query_service.py	–ü—Ä–æ–≤–µ—Ä–∫–∞ SQL-–∑–∞–ø—Ä–æ—Å–æ–≤
export_json/xml.py	–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
schema_service.py	–ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–µ–Ω–∏—è –∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è SQL


‚∏ª

üßë‚Äçüíª –ê–≤—Ç–æ—Ä

–®—É–º–∫–µ–≤–∏—á –î–∞–Ω–∏–ª–∞ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á
üìß danila.shumkevich@innowise.com
üåç master-cube.ru

‚∏ª

ü™™ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License ‚Äî —Å–≤–æ–±–æ–¥–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ, –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ
—Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∞–≤—Ç–æ—Ä–∞ –∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

‚∏ª